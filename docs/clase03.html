<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Clase 3 Funciones - DataFrames | Curso de Ingreso - Módulo Programación</title>
  <meta name="description" content="Clase 3 Funciones - DataFrames | Curso de Ingreso - Módulo Programación" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Clase 3 Funciones - DataFrames | Curso de Ingreso - Módulo Programación" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Clase 3 Funciones - DataFrames | Curso de Ingreso - Módulo Programación" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="clase02.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Guía de ejercicios</a></li>
<li class="chapter" data-level="1" data-path="clase01.html"><a href="clase01.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="" data-path="clase01.html"><a href="clase01.html#ejercicios"><i class="fa fa-check"></i>Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="clase02.html"><a href="clase02.html"><i class="fa fa-check"></i><b>2</b> Estructuras de control - Gráficos</a><ul>
<li class="chapter" data-level="2.1" data-path="clase02.html"><a href="clase02.html#condicionales"><i class="fa fa-check"></i><b>2.1</b> Condicionales</a></li>
<li class="chapter" data-level="2.2" data-path="clase02.html"><a href="clase02.html#ciclos"><i class="fa fa-check"></i><b>2.2</b> Ciclos</a></li>
<li class="chapter" data-level="2.3" data-path="clase02.html"><a href="clase02.html#gráficos"><i class="fa fa-check"></i><b>2.3</b> Gráficos</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="clase03.html"><a href="clase03.html"><i class="fa fa-check"></i><b>3</b> Funciones - DataFrames</a><ul>
<li class="chapter" data-level="3.1" data-path="clase03.html"><a href="clase03.html#parte-a-funciones"><i class="fa fa-check"></i><b>3.1</b> Parte A: Funciones</a></li>
<li class="chapter" data-level="3.2" data-path="clase03.html"><a href="clase03.html#parte-b-dataframes"><i class="fa fa-check"></i><b>3.2</b> Parte B: DataFrames</a><ul>
<li class="chapter" data-level="3.2.1" data-path="clase03.html"><a href="clase03.html#análisis-exploratorio-a-partir-del-manejo-de-salidas-gráficas"><i class="fa fa-check"></i><b>3.2.1</b> Análisis exploratorio a partir del manejo de salidas gráficas</a></li>
<li class="chapter" data-level="3.2.2" data-path="clase03.html"><a href="clase03.html#gráficos-básicos-probando-modificar-parámetros"><i class="fa fa-check"></i><b>3.2.2</b> Gráficos básicos: Probando modificar parámetros</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Curso de Ingreso - Módulo Programación</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="clase03" class="section level1">
<h1><span class="header-section-number">Clase 3</span> Funciones - DataFrames</h1>
<p>Esta es la guía de ejercicios correspondiente a la clase 03.
En este caso la guía tiene 2 partes: Funciones y DataFrames. Cada parte se entregará por separado (con distintas fechas de entrega máxima, consultar en el campus).
Deberá entregar todos los ejercicios en un archivo .R. Cada ejercicio debe estar resuelto entre comentarios que indique secciones dentro del archivo.</p>
<p>Algunos de los temas necesarios para resolver esta guía no fueron incluidos en la teórica, muchos se encuentran en este documento, mientras que otros deberán ser investigados (por ejemplo, buscando en internet). El ejercicio de buscar cómo abordar/resolver problemas en internet es <em>casi tan</em> importante como poder resolverlos.</p>
<p>Además de escribir los programas pedidos deberán probarlos y dejar constancia de las pruebas realizadas, además de explicitar si anduvo como era esperado o no.</p>
<div id="parte-a-funciones" class="section level2">
<h2><span class="header-section-number">3.1</span> Parte A: Funciones</h2>
<ol style="list-style-type: decimal">
<li><p>Se desea tener una función que tome un valor como parámetro que representa una temperatura en grados Farenheit, y retorne el valor equivalente en Celsius. Más info <a href="https://www.lmgtfy.es/?q=formula+formula+fahrenheit+a+celsius" class="uri">https://www.lmgtfy.es/?q=formula+formula+fahrenheit+a+celsius</a>. Puede tomar como referencia el siguiente código incompleto:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb115-1" title="1">de_celsius_a_farenheit &lt;-<span class="st"> </span><span class="cf">function</span>(COMPLETAR){</a>
<a class="sourceLine" id="cb115-2" title="2">  res &lt;-<span class="st"> </span>COMPLETAR</a>
<a class="sourceLine" id="cb115-3" title="3">  <span class="kw">return</span>(res)</a>
<a class="sourceLine" id="cb115-4" title="4">}</a></code></pre></div></li>
<li><p>Escribir otra que se comporte a la inversa.</p></li>
<li><p>Escribir una función que junte las funcionalidades de las 2 anteriores. Para hacerlo agregue un parámetro extra que si es TRUE la entrada se asume en Celsius (y se espera la salida en Farenheit) y si es FALSE se asume la entrada en Farenheit.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" title="1">calcular_equivalencia &lt;-<span class="st"> </span><span class="cf">function</span>(grados, en_celsius){</a>
<a class="sourceLine" id="cb116-2" title="2">  COMPLETAR</a>
<a class="sourceLine" id="cb116-3" title="3"></a>
<a class="sourceLine" id="cb116-4" title="4">  COMPLETAR</a>
<a class="sourceLine" id="cb116-5" title="5">  <span class="kw">return</span>(res)</a>
<a class="sourceLine" id="cb116-6" title="6">}</a></code></pre></div></li>
<li><p>Escribir una función que tomes 2 parámetros, el tamaño de una lado y la cantidad de lados de un polígono regular y que devuelva el perímetro</p></li>
<li><p>Escribir una función que tome un vector (que se asume tiene al menos 1 elemento) y un segundo parámetro e indique si dicho vector lo contiene o no. Dar 2 implementaciones:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Con ciclos</p></li>
<li><p>Sin ciclos (con funciones de vectores)</p></li>
</ol></li>
<li><p>Escribir una función que tome la altura y el peso de una persona y devuelva el índice de masa corporal (<code>IMC = peso / altura^2</code>).</p></li>
<li><p>Escribir una función que tome un valor <code>a</code> y un vector <code>vec</code> (que asumimos contiene a <code>a</code>). La misma deberá recorrer el vector <strong>con un ciclo</strong> y retornar el número de posición en la se encuentra <code>a</code>.</p></li>
<li><p>Escribir una función que tome un valor <code>a</code> y un vector <code>vec</code>. La misma deberá indicar cuántas veces el valor a aparece en el vector vec. Pensar 2 implementaciones: con <code>for</code> y con <code>while</code>.</p></li>
<li><p>Escribir una función que calcule la suma de los primeros n naturales. No vale usar fórmulas cerradas, ni funciones pre-definidas que lo calcule, implementarla usando ciclos <code>while</code>.</p></li>
<li><p>Escribir una función que calcule el producto de los primeros n naturales. No vale usar fórmulas cerradas, ni funciones pre-definidas que lo calcule, implementarla usando ciclos <code>while</code>.</p></li>
<li><p>Escribir una función que dado un número natural calcule un paso de la función de Collatz. Recordar que dice:</p>
<p><span class="math display">\[
  collatz(n) = \begin{cases}
        n/2 &amp;\mbox{si n es par} \\
        (3n + 1) &amp; \mbox{si no } \end{cases}
\]</span></p></li>
<li><p>Escribir una función que dado un número natural calcula la secuencia generada por la función de Collatz hasta alcanzar el 1.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" title="1">sec_collatz &lt;-<span class="st"> </span><span class="cf">function</span>(n) {</a>
<a class="sourceLine" id="cb117-2" title="2">  res &lt;-<span class="st"> </span><span class="kw">c</span>(n)</a>
<a class="sourceLine" id="cb117-3" title="3">  <span class="cf">while</span> (n<span class="op">!=</span>COMPLETAR) {</a>
<a class="sourceLine" id="cb117-4" title="4">    n &lt;-<span class="st"> </span>COMPLETAR</a>
<a class="sourceLine" id="cb117-5" title="5">    res &lt;-<span class="st"> </span>COMPLETAR</a>
<a class="sourceLine" id="cb117-6" title="6">  }</a>
<a class="sourceLine" id="cb117-7" title="7">  <span class="kw">return</span>(res)</a>
<a class="sourceLine" id="cb117-8" title="8">}</a></code></pre></div></li>
<li><p>Escribir una función que dado un número <code>n</code> calcule (y devuelva) los primeros <code>n</code> términos de las siguientes sucesiones:</p>
<ol style="list-style-type: lower-alpha">
<li><p><span class="math inline">\(a_n = \displaystyle\frac{1}{\sqrt{n}}+\left(\frac{1}{2}\right)^n\)</span></p></li>
<li><p><span class="math inline">\(d_n = (-1)^{n+5}\)</span></p></li>
</ol></li>
<li><p>Recordar <span class="math inline">\(\rho_k: \mathbb R \to \mathbb R\)</span>, definida de la siguiente manera
<span class="math display">\[\begin{align*}
    \rho_k(x)=\left\{ \begin{matrix}
    x^2&amp;\text{ si } &amp;|x|\le k \\
    2k|x|-k^2 &amp; \text{ si } &amp;  |x| &gt;k
    \end{matrix} \right.
    \end{align*}\]</span></p>
<p>Escribir una función que calcule la función <span class="math inline">\(\rho_k\)</span> tomando como parámetros <code>desde</code> y <code>hasta</code> para indicar el intervalo; <code>paso</code> para indicar cada cuanto se debe tomar un punto, y <code>k</code> que debe tener valor por defecto 5. Deberá poder usarse de la siguiente manera:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" title="1">  <span class="kw">rho_func</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb118-2" title="2">  <span class="kw">rho_func</span>(<span class="op">-</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="fl">0.03</span>, <span class="dv">8</span>)</a></code></pre></div></li>
<li><p><strong>El polinomio interpolador de Lagrange</strong>.
Dada una tabla de puntos <span class="math inline">\(\{(x_i,y_i)\}_{i=0,\ldots,n}\)</span>, con distintos valores para los <span class="math inline">\(x_i\)</span>, existe un único polinomio <span class="math inline">\(p_n(x)\)</span> de grado menos o igual a <span class="math inline">\(n\)</span> tal que <span class="math display">\[p_n(x_i)=y_i\;,\quad i=0,\ldots,n\;.\]</span></p>
<p>Observacion: los puntos de la tabla estan indexados empezando en <span class="math inline">\(i=0\)</span>; es decir, hay <span class="math inline">\(n+1\)</span> puntos. Por ejemplo, si consideramos dos puntos, tenemos <span class="math inline">\((x_0,y_0)\)</span>, <span class="math inline">\((x_1,y_1)\)</span> y el polinomio interpolador resulta la recta que pasa por los dos puntos, recordando que la recta es un polinomio de grado <span class="math inline">\(n=1\)</span>.</p>
<p>El polinomio se calcula cuando tenemos tres puntos según: (ver clase 1 del módulo de análisis).</p>
<p>Generalización:</p>
<ul>
<li><p>¿Cómo generalizamos este procedimiento a mís puntos? Definimos <span class="math display">\[l_i(x)=\frac{\prod_{j \neq i}(x-x_j)}{\prod_{j \neq i}(x_i-x_j)}\;, i=0,\ldots,n\;.\]</span></p></li>
<li><p>¿Cuál es la gracia? Simple, <span class="math inline">\(l_i(x_i)=1\)</span> mientras que <span class="math inline">\(l_i(x_j)=0\)</span> si <span class="math inline">\(j \neq i\)</span>. Luego, el polonomio interpolador está definido por <span class="math display">\[p_n(x)=\sum_{i=0}^n y_i l_i(x)\;.\]</span></p></li>
</ul>
<p>Miramos los datos de co2 que ya vimos en el módulo de análisis:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" title="1">  fechas &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">1992</span>, <span class="dt">to=</span><span class="dv">2018</span>, <span class="dt">by=</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb119-2" title="2">  co2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">356.3</span>, <span class="fl">358.6</span>, <span class="fl">362.4</span>, <span class="fl">366.5</span>, <span class="fl">369.4</span>, <span class="fl">373.2</span>, <span class="fl">377.5</span>, <span class="fl">381.9</span>,</a>
<a class="sourceLine" id="cb119-3" title="3">           <span class="fl">385.6</span>, <span class="fl">389.9</span>, <span class="fl">393.9</span>, <span class="fl">398.6</span>, <span class="fl">404.2</span>, <span class="fl">408.5</span>)</a>
<a class="sourceLine" id="cb119-4" title="4"></a>
<a class="sourceLine" id="cb119-5" title="5">  <span class="kw">plot</span>(fechas, co2)</a></code></pre></div>
<p><img src="ModuloProgramacion-IC_files/figure-html/unnamed-chunk-94-1.png" width="672" /></p>
<p>Definir:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Las funciones <code>sumar_todos</code> y <code>multiplicar_todos</code> que toman un vector y devuelven la suma y el producto de todos los elementos respectivamente.</p></li>
<li><p>Completar la siguiente función para que realice la interpolación según la fórmula previa. Recordar que para excluir un elemento de un vector se puede poner: <code>vec[-posicion]</code>. Más abajo ejemplo de con resulados para probar.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" title="1">interpolador &lt;-<span class="st"> </span><span class="cf">function</span>(x_nuevo, x_datos, y_datos) {</a>
<a class="sourceLine" id="cb120-2" title="2">  n_puntos &lt;-<span class="st"> </span><span class="kw">length</span>(COMPLETAR)</a>
<a class="sourceLine" id="cb120-3" title="3">  l &lt;-<span class="st"> </span><span class="kw">c</span>()</a>
<a class="sourceLine" id="cb120-4" title="4"></a>
<a class="sourceLine" id="cb120-5" title="5">  <span class="co"># Calculamos l_i(x)</span></a>
<a class="sourceLine" id="cb120-6" title="6">  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n_puntos) {</a>
<a class="sourceLine" id="cb120-7" title="7">    numerador &lt;-<span class="st"> </span><span class="kw">multiplicar_todos</span>(COMPLETAR <span class="op">-</span><span class="st"> </span>x_datos[<span class="op">-</span>i])</a>
<a class="sourceLine" id="cb120-8" title="8">    denominador &lt;-<span class="st"> </span><span class="kw">COMPLETAR</span>(x_datos[i] <span class="op">-</span><span class="st"> </span>COMPLETAR)</a>
<a class="sourceLine" id="cb120-9" title="9">    nuevo_dato &lt;-<span class="st"> </span>numerador<span class="op">/</span>denominador</a>
<a class="sourceLine" id="cb120-10" title="10">    l &lt;-<span class="st"> </span><span class="kw">c</span>(l, COMPLETAR)</a>
<a class="sourceLine" id="cb120-11" title="11">  }</a>
<a class="sourceLine" id="cb120-12" title="12"></a>
<a class="sourceLine" id="cb120-13" title="13">  <span class="co"># Calculamos la sumatoria</span></a>
<a class="sourceLine" id="cb120-14" title="14">  res &lt;-<span class="st"> </span><span class="kw">COMPLETAR</span>(y_datos <span class="op">*</span><span class="st"> </span>l)</a>
<a class="sourceLine" id="cb120-15" title="15">  <span class="kw">return</span>(COMPLETAR)</a>
<a class="sourceLine" id="cb120-16" title="16">}</a></code></pre></div>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" title="1"><span class="kw">interpolador</span>(<span class="dv">2</span>, <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>), <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">10</span>))</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" title="1"><span class="kw">interpolador</span>(<span class="dv">4</span>, <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>), <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">10</span>))</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" title="1"><span class="kw">interpolador</span>(<span class="fl">4.25</span>, <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>), <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">10</span>))</a></code></pre></div>
<pre><code>## [1] 8.5</code></pre></li>
<li><p>Completar el siguiente código para poder interpolar sobre un vector de puntos, probarla graficando los puntos interpolados y una recta con los puntos originales.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" title="1">interpolar_grilla &lt;-<span class="st"> </span><span class="cf">function</span>(datos_nuevos, x_datos, y_datos) {</a>
<a class="sourceLine" id="cb127-2" title="2"> res &lt;-<span class="st"> </span><span class="kw">c</span>()</a>
<a class="sourceLine" id="cb127-3" title="3">  <span class="cf">for</span> (d <span class="cf">in</span> datos_nuevos){</a>
<a class="sourceLine" id="cb127-4" title="4">    nuevo &lt;-<span class="st"> </span><span class="kw">interpolador</span>(COMPLETAR)</a>
<a class="sourceLine" id="cb127-5" title="5">    res &lt;-<span class="st"> </span>COMPLETAR</a>
<a class="sourceLine" id="cb127-6" title="6">  }</a>
<a class="sourceLine" id="cb127-7" title="7"> <span class="kw">return</span>(res)</a>
<a class="sourceLine" id="cb127-8" title="8">}</a>
<a class="sourceLine" id="cb127-9" title="9"></a>
<a class="sourceLine" id="cb127-10" title="10"><span class="co"># hago una grilla con puntos intermedios</span></a>
<a class="sourceLine" id="cb127-11" title="11">grilla &lt;-<span class="st"> </span><span class="kw">seq</span>(fechas[<span class="dv">1</span>], fechas[<span class="kw">length</span>(fechas)], <span class="fl">0.01</span>)</a>
<a class="sourceLine" id="cb127-12" title="12">valores_grilla &lt;-<span class="st"> </span><span class="kw">interpolar_grilla</span>(grilla, fechas, co2)</a></code></pre></div></li>
<li><p>Agregar una recta interpolando únicamente por el primer y último punto de los datos y agregarla al gráfico anterior con otro color</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" title="1">grilla &lt;-<span class="st"> </span><span class="kw">seq</span>(fechas[<span class="dv">1</span>], fechas[<span class="kw">length</span>(fechas)], <span class="fl">0.01</span>)</a>
<a class="sourceLine" id="cb128-2" title="2">valores_grilla_nueva &lt;-<span class="st"> </span><span class="kw">interpolar_grilla</span>(COMPLETAR,</a>
<a class="sourceLine" id="cb128-3" title="3">                          fechas[<span class="kw">c</span>(<span class="dv">1</span>,<span class="kw">length</span>(fechas))], co2[COMPLETAR])</a></code></pre></div></li>
</ol></li>
<li><p>Para cada uno de los conjuntos de datos dados, calcular y grafocar el polinomio <span class="math inline">\(p(x)\)</span> interpolador de grado menor o igual que 3 .</p>
<ol style="list-style-type: lower-alpha">
<li><p>Primer conjunto:</p>
<table style='width:30%;'>
<thead>
<tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
y
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-1
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
11
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
27
</td>
</tr>
</tbody>
</table></li>
<li><p>Segundo conjunto:</p>
<table style='width:30%;'>
<thead>
<tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
y
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-3
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
</tr>
</tbody>
</table></li>
</ol></li>
</ol>
</div>
<div id="parte-b-dataframes" class="section level2">
<h2><span class="header-section-number">3.2</span> Parte B: DataFrames</h2>
<p>Vamos a trabajar con la base de datos <em>Iris</em>. Esta es una base de datos muy conocida y utilizada en cursos introductorios. Para más información <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set">mirá acá</a>. Por defecto, la base de datos <em>Iris</em> viene con la instalación de R. Si queres ver como se ve hace:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" title="1"><span class="kw">head</span>(iris)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<ol style="list-style-type: decimal">
<li><p>Describir a la base de datos. ¿Cuantas filas tiene?. ¿Y columnas?. ¿Cuantas variables tiene?</p></li>
<li><p>Seleccionar las filas que pertenezcan a la especie <em>versicolor</em>.¿Cuantos individuos fueron seleccionados?.</p></li>
<li><p>Seleccionar solo la columna <em>Petal.Length</em>.¿Cual es la media de la longitud de los petalos?.</p></li>
<li><p>Si suponemos que el area del pétalo se puede estimar como (largo * ancho * <span class="math inline">\(\pi\)</span>), ¿Cuanto es el área promedio del pétalo de la especie <em>setosa</em>?.</p></li>
<li><p>Calcular la frecuencia de individuos de la especie <em>virginica</em> que poseen un <code>Sepal.Width</code> mayor a 3.</p></li>
<li><p>Calcular la frecuencia de individuos de la especie <em>setosa</em> que poseen un <code>Sepal.Length</code> mayor a 5 y un <code>Petal.Width</code> menor a 0.3.</p></li>
<li><p>Ahora agregale una columna al <code>df</code> que sea la suma de los cuatro atributos para cada individuo.</p></li>
<li><p>Asociación entre rasgos paternos y tamaño de la bola de cría en el escarabajo estercolero <em>Sulcophanaeus</em> sp.</p>
<p>Los rasgos de los padres suelen afectar el desarrollo de rasgos de su cría. Un mecanismo por el cual los padres pueden influir en el fenotipo de la descendencia es a través del nivel de cuidado que proporcionan. <em>Sulcophanaeus</em> sp (Coleoptera, Scarabaeidae) es un escarabajo estercolero con cuidados biparentales. El macho construye una bola de cría formada por estiércol, en la que la hembra deposita un huevo, que al eclosionar se alimenta de esa masa. Se sabe que cuanto mayor es el tamaño de la bola de cría, mayor es la disponibilidad de alimento y mayor el desarrollo de la cría, pero se desconocen los factores que regulan el tamaño de las bolas de cría. Los machos presentan además variaciones en el tamaño de sus cuernos, que utilizan durante las peleas por las hembras permitiendoles incrementar su éxito reproductivo. Se desea probar la hipótesis de que ambas características morfológicas de los machos (tamaño corporal y la longitud de los cuernos) afectan en forma sinérgica el tamaño de las bolas de cría. Para demostrarlo se capturaron ejemplares adultos en la provincia de Buenos Aires y se les midió el largo corporal total (LT) y del cuerno (LC), ambos en mm. Se seleccionaron machos de manera de cubrir el rango de combinaciones de tamaños y se los cruzó con una hembra de tamaño promedio. Cada pareja fue mantenida en una cámara de cría individual con estiércol de vaca. Se obtuvieron 75 bolas de cría, a las que se les determinó el peso seco (PS), en gramos. Los resultados se encuentran en el archivo <a href="escarab.csv">escarab.csv (click para descargar)</a></p>
<p>Lea el archivo de datos y calcule los valores medios para cada una de las mediciones <code>LT</code>, <code>LC</code> y <code>PS</code>.</p></li>
<li><p>Hacer una función que dada una <em>variable de interés</em> devuelva la especie que posea la mayor media para ese atributo.</p></li>
<li><p>Ahora hacer una función que dada una <em>variable de interés</em> devuelva la especie que posea la menor varianza para ese atributo.</p></li>
</ol>
<div id="análisis-exploratorio-a-partir-del-manejo-de-salidas-gráficas" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Análisis exploratorio a partir del manejo de salidas gráficas</h3>
<p>A continuación, vamos a aprender a realizar, manipular y almacenar salidas gráficas de R usando las funciones existentes.
Hasta ahora habíamos usado <code>plot</code> que realizaba varias cosas automáticamente, como por ejemplo decidir dónde se iba a generar un gráfico (a esto se lo llama dispositivo).
Hay diferentes formas de crear dispositivos donde realizar gráficos, por ejemplo un archivo con extensión pdf, jpg, o bien la pantalla de nuestra computadora. Si queremos que el gráfico aparezca en la pantalla, al ejecutar la función windows() (para el Sistema Operativo Windows), x11() (para Liunx) o quartz() (para Mac), nos devolverá una nueva ventana donde se empezará a generar el gráfico que queramos realizar.</p>
<p>En términos generales, la ventana de dibujo en R puede dividirse en tres partes: un área de dibujo, un margen interno y un margen externo. La función <em>par()</em> permite ajustar el tamaño de los márgenes (abajo, izquierda, arriba, derecho), a partir del ajuste de los parámetros <em>mar</em> (margin size) y <em>oma</em> (outer margin area).</p>
<p>Para generar distintos sub-gráficos en una misma figura pueden usarse los parámetros <em>mfrow</em> o <em>mfcol</em> de la función <em>par()</em>.</p>
<ol style="list-style-type: decimal">
<li><p>Realizar los siguientes gráficos y analizá qué significan los parámetros <em>main</em>, <em>xlab</em>, <em>ylab</em>, <em>pch</em> y <em>col</em>.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" title="1"><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length, iris<span class="op">$</span>Sepal.Width, <span class="dt">col=</span>iris<span class="op">$</span>Species)</a></code></pre></div>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" title="1"><span class="kw">pairs</span>(iris[,<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">pch=</span><span class="kw">as.numeric</span>(iris<span class="op">$</span>Species))</a></code></pre></div>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" title="1"><span class="kw">hist</span>(iris<span class="op">$</span>Sepal.Length, <span class="dt">ylab=</span><span class="st">&quot;Frecuencia&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Longitud del Sépalo&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" title="1"><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length<span class="op">~</span>iris<span class="op">$</span>Species, <span class="dt">main=</span><span class="st">&quot;Longitud del sepalo por especie&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" title="1"><span class="kw">barplot</span>(<span class="kw">tapply</span>(iris<span class="op">$</span>Sepal.Length,iris<span class="op">$</span>Species,mean), <span class="dt">main=</span><span class="st">&quot;Longitud del sepalo por especie&quot;</span>)</a></code></pre></div></li>
</ol>
</div>
<div id="gráficos-básicos-probando-modificar-parámetros" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Gráficos básicos: Probando modificar parámetros</h3>
<ol style="list-style-type: decimal">
<li><p>Modificar el número de divisiones en el histograma utilizando el parámetro <em>breaks</em>. Una vez hecho esto, ingresar:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" title="1"><span class="kw">plot</span>(<span class="kw">density</span>(iris<span class="op">$</span>Sepal.Length), <span class="dt">main=</span><span class="st">&quot;Densidad de LongSepalo&quot;</span>)</a></code></pre></div></li>
<li><p>Hacer en una ventana aparte un gráfico subdividido en cuatro donde se muestre el histograma de cada una de las variables medidas.</p></li>
<li><p>Hacer un gráfico adecuado para las 4 variables registradas en las 150 flores. Analizar qué se está representando e investigar la presencia de datos atípicos en los datos.</p></li>
<li><p>Hacer un boxplot para cada variable pero discriminando por especie.</p></li>
<li><p>Al boxplot del punto anterior rotularle los ejes con titulos adecuados.</p></li>
<li><p>Explorar como modificar los colores con los que se grafica cada especie.</p></li>
<li><p>Mover la posición de la leyenda del gráfico a otra zona.</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="clase02.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ModuloProgramacion-IC.pdf", "ModuloProgramacion-IC.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
